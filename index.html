<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>WebGL Demo</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://greggman.github.io/webgl-lint/webgl-lint.js"></script>
  <script
          src="https://cdnjs.cloudflare.com/ajax/libs/gl-matrix/2.8.1/gl-matrix-min.js"
          integrity="sha512-zhHQR0/H5SEBL3Wn6yYSaTTZej12z0hVZKOv3TwCUXT1z5qeqGcXJLLrbERYRScEDDpYIJhPC1fk31gqR783iQ=="
          crossorigin="anonymous"
          defer></script>
  <script id="vertex-shader-2d" type="notjs">#version 300 es
    in vec2 position;

    void main() {
      gl_Position = vec4(position * 2.0 - 1.0, 0, 1.0);
    }

  </script>

  <script id="fragment-shader-2d" type="notjs">#version 300 es
    // mediump is a good default
    precision mediump float;

    out vec4 COLOR;
    const float TAU = 6.28318530717958647692;
    uniform vec2 resolution;
    uniform sampler2D hues;

    vec3 hsv_to_rgb(float hue, float saturation, float value) {
      float chroma = saturation * value;
      float min_rgb = value - chroma;
      float r = clamp(abs(chroma * 6.0 * hue - 3.0 * chroma) - 1.0 * chroma, 0.0, chroma);
      float g = clamp(-abs(chroma * 6.0 * hue - 2.0 * chroma) + 2.0 * chroma, 0.0, chroma);
      float b = clamp(-abs(chroma * 6.0 * hue - 4.0 * chroma) + 2.0 * chroma, 0.0, chroma);
      return vec3(min_rgb + r, min_rgb + g, min_rgb + b);
    }

    void main() {
      vec2 uv = (gl_FragCoord.xy / resolution);
      float c = texture(hues, vec2(0.5, 0.0)).r / 100.0;
      if (uv.x > 0.66) {
        c = 0.8;
      } else if (uv.x > 0.33) {
        c = 0.2;
      }
      COLOR = vec4(c, c, c, 1.0);
    }
  </script>

  <script src="main.js" type="module"></script>
</head>

<body>
  <canvas id="gl-canvas" width="250" height="250"></canvas>
</body>
</html>
